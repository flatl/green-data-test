(this["webpackJsonpgreen-data-test"]=this["webpackJsonpgreen-data-test"]||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),i=a.n(s),l=a(9),c=a.n(l),r=a(2),o=a(5),u=a(21),m={id:"-1",name:"",surname:"",patronymic:"",position:"",sex:"\u041c",isDismissed:!1},d=a(4),j=a(10),b=a(11),p=function(){function e(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"item-";if(Object(j.a)(this,e),this.prefix=void 0,!(null===(t=window)||void 0===t?void 0:t.localStorage))throw new ReferenceError("It doesn't work outside Browser LocalStorage API");this.prefix=a}return Object(b.a)(e,[{key:"isItemInDB",value:function(e){return null!==localStorage.getItem(this.prefix+e)}},{key:"getItem",value:function(e){var t=localStorage.getItem(this.prefix+e);if(!t)throw new Error("Nothing stored with key: "+e);return JSON.parse(t)}},{key:"getAll",value:function(){var e=this;return Object.getOwnPropertyNames(localStorage).filter((function(t){return t.startsWith(e.prefix)})).map((function(e){return JSON.parse(localStorage.getItem(e))}))}},{key:"setItem",value:function(e,t){var a=JSON.stringify(t);localStorage.setItem(this.prefix+e,a)}},{key:"updateItem",value:function(e,t){var a,n=JSON.parse(localStorage.getItem(this.prefix+e));Array.isArray(n)&&Array.isArray(t)?a=[].concat(Object(d.a)(n),Object(d.a)(t)):"object"===typeof n&&(a=Object.assign(n,t)),localStorage.setItem(this.prefix+e,JSON.stringify(a))}},{key:"removeItem",value:function(e){localStorage.removeItem(this.prefix+e)}}]),e}(),x=function(e){var t=e.list,a=e.currentEmployee,s=e.handleSelect,i=function(e){return e.id===a.id?"employee-list__item selected":"employee-list__item"};return Object(n.jsx)("div",{className:"employee-list",children:t.map((function(e,t){return Object(n.jsxs)("div",{onClick:s(e),className:i(e),children:[Object(n.jsx)("div",{className:"employee-list__item-name",children:"".concat(e.surname," ").concat(e.name," ").concat(e.patronymic)}),Object(n.jsx)("div",{className:"employee-list__item-position",children:e.position}),Object(n.jsx)("div",{className:"background"})]},t)}))})},h=a(6),O=function(e){var t=e.isChecked,a=e.onToggle,s=e.name,i=e.label;return Object(n.jsxs)("div",{className:"input input-checkbox",children:[Object(n.jsx)("label",{htmlFor:s,className:"input-checkbox__label text text-small",children:i}),Object(n.jsx)("input",{checked:t,onChange:a,name:s,type:"checkbox",className:"input-checkbox__input text text-large"})]})},f=function(e){var t=e.value,a=e.onChange,s=e.name,i=e.placeholder,l=e.label;return Object(n.jsxs)("div",{className:"input input-text",children:[Object(n.jsx)("label",{htmlFor:s,className:"input-text__label text text-small",children:l}),Object(n.jsx)("input",{className:"input-text__input text text-large",value:t,onChange:a,name:s,placeholder:i,type:"text"})]})},v=function(e){var t=e.list,a=e.currentValue,s=e.defaultValue,i=e.name,l=e.label,c=e.handleSelect;return a||(a=s),Object(n.jsxs)("div",{className:"input input-select",children:[Object(n.jsx)("label",{htmlFor:i,className:"input-select__label text text-small",children:l}),Object(n.jsxs)("select",{name:i,onChange:c,value:a,className:"input-select__select text text-large",children:[Object(n.jsx)("option",{disabled:!0,children:s}),t.map((function(e,t){return Object(n.jsx)("option",{className:"input-select__option text text-large",children:e},t)}))]})]})},g=function(e){var t=e.currentEmployee,a=e.positions,s=e.setCurrentEmployee,i=e.onIsFormValid,l=function(e){return function(a){s(Object(r.a)(Object(r.a)({},t),{},Object(h.a)({},e,a.target.value)))}},c=t.surname.length>1&&t.name.length>1&&t.patronymic.length>1&&""!==t.position;return console.log(c),i(c),Object(n.jsxs)("form",{className:"form",children:[Object(n.jsx)(f,{value:t.surname,onChange:l("surname"),name:"surname",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",placeholder:""}),Object(n.jsx)(f,{value:t.name,onChange:l("name"),name:"name",label:"\u0418\u043c\u044f",placeholder:""}),Object(n.jsx)(f,{value:t.patronymic,onChange:l("patronymic"),name:"patronymic",label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",placeholder:""}),Object(n.jsx)(v,{list:a,currentValue:t.position,handleSelect:function(e){var a=e.target.value;s(Object(r.a)(Object(r.a)({},t),{},{position:a}))},defaultValue:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",name:"position",label:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(n.jsx)(v,{list:["\u041c","\u0416"],currentValue:t.sex,handleSelect:function(e){var a=e.target.value;s(Object(r.a)(Object(r.a)({},t),{},{sex:a}))},defaultValue:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u043b",name:"sex",label:"\u041f\u043e\u043b"}),Object(n.jsx)(O,{isChecked:t.isDismissed,onToggle:function(){s(Object(r.a)(Object(r.a)({},t),{},{isDismissed:!t.isDismissed}))},name:"dismissed",label:"\u0423\u0432\u043e\u043b\u0435\u043d?"})]})},y=function(e){var t=e.isDisplayed,a=e.isActive,s=e.label,i=e.classNames,l=e.onClick,c=[].concat(Object(d.a)(i),["button","text text-medium"]).join(" ");return Object(n.jsx)("button",{className:c,disabled:!a,style:{display:t?"flex":"none",opacity:a?"1":".7"},onClick:l,children:s})},N=function(e){var t=e.isOpen,a=e.handleClose;return t&&Object(n.jsx)("div",{className:"modal",onClick:a,children:Object(n.jsx)("div",{className:"modal__window",onClick:function(e){return e.stopPropagation()},children:e.children})})},k=(a(17),["\u043f\u0435\u043a\u0430\u0440\u044c-\u0432\u0438\u0440\u0442\u0443\u043e\u0437","\u043e\u0445\u0440\u0430\u043d\u043d\u0438\u043a","\u0442\u043e\u043f-\u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440","\u043a\u043e\u043d\u0434\u0438\u0442\u0435\u0440","\u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440","\u0440\u0430\u0437\u043d\u043e\u0440\u0430\u0431\u043e\u0447\u0438\u0439"]),C=new p("employee"),S=!1,_=function(){var e=Object(s.useState)(C.getAll()),t=Object(o.a)(e,2),a=t[0],i=t[1],l=Object(s.useState)(m),c=Object(o.a)(l,2),d=c[0],j=c[1],b=Object(s.useState)(!1),p=Object(o.a)(b,2),h=p[0],O=p[1],f=Object(s.useState)(!1),v=Object(o.a)(f,2),_=v[0],I=v[1],w=d.id===m.id,A=function(){S?I(!0):(i(C.getAll()),j(m))};return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)("aside",{className:"aside",children:[Object(n.jsx)("header",{className:"header text-large",children:Object(n.jsx)("div",{className:"title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"})}),Object(n.jsx)(x,{list:a,currentEmployee:d,handleSelect:function(e){return function(){j(e)}}})]}),Object(n.jsxs)("main",{className:"content",children:[Object(n.jsxs)("header",{className:"header",children:[w&&Object(n.jsx)("div",{className:"title text-large",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}),!w&&Object(n.jsx)("div",{className:"title text-large",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"})]}),Object(n.jsx)(g,{currentEmployee:d,positions:k,setCurrentEmployee:function(e){j(e),S=!0},onIsFormValid:function(e){return O(e)}}),Object(n.jsxs)("div",{className:"buttons",children:[Object(n.jsx)(y,{onClick:A,isDisplayed:!0,isActive:!0,label:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",classNames:["update"]}),Object(n.jsx)(y,{onClick:function(){j(m)},isDisplayed:!w,isActive:!0,label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",classNames:["add"]}),Object(n.jsx)(y,{onClick:function(){if(w){var e=Object(r.a)(Object(r.a)({},d),{},{id:u.a()});C.setItem(e.id,e)}else{if(!C.isItemInDB(d.id))throw new Error("Cannot find employee with id "+d.id);C.updateItem(d.id,d)}j(m),S=!1},isDisplayed:!0,isActive:h,label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",classNames:["save"]}),Object(n.jsx)(y,{onClick:function(){C.removeItem(d.id),S=!1},isDisplayed:!w,isActive:!0,label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",classNames:["remove"]})]})]}),Object(n.jsxs)(N,{isOpen:_,handleClose:function(){return I(!1)},children:[Object(n.jsx)("section",{className:"title text text-large",children:"\u0415\u0441\u043b\u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b, \u0432\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?"}),Object(n.jsxs)("section",{className:"buttons",children:[Object(n.jsx)(y,{onClick:function(){return I(!1)},isDisplayed:!0,isActive:!0,label:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",classNames:["close"]}),Object(n.jsx)(y,{onClick:function(){I(!1),S=!1,A()},isDisplayed:!0,isActive:!0,label:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",classNames:["continue"]})]})]})]})};a(18);c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(_,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.b3b8bacc.chunk.js.map